import{_ as a,c as e,o as i,ag as t}from"./chunks/framework.xT_8jeIh.js";const k=JSON.parse('{"title":"常用数学函数","description":"","frontmatter":{},"headers":[],"relativePath":"3.variables-and-basic-data-types/3.4.arithmetic-and-bitwise-operators.md","filePath":"3.variables-and-basic-data-types/3.4.arithmetic-and-bitwise-operators.md"}'),n={name:"3.variables-and-basic-data-types/3.4.arithmetic-and-bitwise-operators.md"};function l(p,s,o,d,h,c){return i(),e("div",null,[...s[0]||(s[0]=[t(`<p>算术运算符一览，按优先级排序：</p><table tabindex="0"><thead><tr><th>表达式</th><th>说明</th></tr></thead><tbody><tr><td><code>x ** y</code></td><td>幂（乘方)， 表示 <code>x</code> 的 <code>y</code> 次方</td></tr><tr><td><code>+x</code> <code>-x</code></td><td>取同取负（相反数）</td></tr><tr><td><code>x * y</code> <code>x / y</code> <code>x % y</code></td><td>乘法除法取模（求余）/ 格式化字符串这三者相同优先级</td></tr><tr><td><code>x + y</code> <code>x - y</code></td><td>加法 / 连接字符串减法这两者相同优先级</td></tr><tr><td><code>x = y</code> <code>x += y</code> <code>x -= y</code> <code>x *= y</code> <code>x /= y</code> <code>x **= y</code> <code>x %= y </code></td><td>赋值运算，优先级最低<code>x += y</code> 等效于 <code>x = x + y</code>，其他同理</td></tr></tbody></table><ul><li><p><strong>如果进行整数除法，则结果将会自动“向下取整”截断小数</strong></p><p><code>print(5 / 2) # 输出2，而不是2.5</code></p><p>要解决这一问题，只需要将其中一个整数转化为浮点数即可，比如转换类型，乘以<code>1.0</code>，如果是常量则在其后方加上<code>.0</code></p><ul><li><p><code>5.0 / 2</code></p></li><li><p><code>float(5) / 2</code></p></li><li><p><code>5 * 1.0 / 2</code></p></li></ul></li><li><p>取模运算符<code>%</code>只能用在整数上，如果要对小数进行求余，可以使用数学函数<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-fmod" target="_blank" rel="noreferrer"><code>fmod()</code></a></p></li><li><p>对于负值，取模运算符和数学函数<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-fmod" target="_blank" rel="noreferrer"><code>fmod()</code></a>的结果并非数学意义上的余数，因为会使用截断小数位，而非向负无穷大舍入，此时的余数会带有符号（如 <code>-5 % 2 = -1</code>，而不是预期的 <code>1</code>），如果想要得到数学意义上的余数（非负，且小于除数的绝对值）应改用<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-posmod" target="_blank" rel="noreferrer"><code>posmod()</code></a>和<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-fposmod" target="_blank" rel="noreferrer"><code>fposmod()</code></a></p></li><li><p>可以使用括号<code>()</code>来改变表达式的运算优先级</p></li></ul><p><code>1 + 2 * 3 = 7</code></p><p><code>(1 + 2) * 3 = 9</code></p><h1 id="常用数学函数" tabindex="-1">常用数学函数 <a class="header-anchor" href="#常用数学函数" aria-label="Permalink to &quot;常用数学函数&quot;">​</a></h1><blockquote><p>点击对应函数将自动跳转到官方文档</p></blockquote><ul><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-abs" target="_blank" rel="noreferrer"><code>abs(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-absi" target="_blank" rel="noreferrer"><code>absi(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-absf" target="_blank" rel="noreferrer"><code>absf(x)</code></a>：绝对值 <code>abs(-3)</code> ➜ <code>3</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-sign" target="_blank" rel="noreferrer"><code>sign(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-signi" target="_blank" rel="noreferrer"><code>signi(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-signf" target="_blank" rel="noreferrer"><code>signf(x)</code></a>：返回符号，正为 <code>1</code>，负为 <code>-1</code>，0为 <code>0</code><code>sign(-7)</code> ➜ <code>-1</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-clamp" target="_blank" rel="noreferrer"><code>clamp(x, min, max)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-clampi" target="_blank" rel="noreferrer"><code>clampi(x, min, max)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-clampf" target="_blank" rel="noreferrer"><code>clampf(x, min, max)</code></a>：将值限制在指定范围内 <code>clamp(15, 0, 10)</code> ➜ <code>10</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-lerp" target="_blank" rel="noreferrer"><code>lerp(from, to, weight)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-lerpf" target="_blank" rel="noreferrer"><code>lerpf(from, to, weight)</code></a>：线性插值（从from到to的过渡），<code>weight</code> 应该在<code>0.0-1.0</code>之间（包含） <code>lerp(0, 100, 0.3)</code> ➜ <code>30</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-round" target="_blank" rel="noreferrer"><code>round(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-roundf" target="_blank" rel="noreferrer"><code>roundi(x)</code></a>/<code>roundf(x)</code>：四舍五入 <code>round(2.6)</code> ➜ <code>3</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-floor" target="_blank" rel="noreferrer"><code>floor(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-floori" target="_blank" rel="noreferrer"><code>floori(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-floorf" target="_blank" rel="noreferrer"><code>floorf(x)</code></a>：向下取整 <code>floor(3.9)</code> ➜ <code>3</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-ceil" target="_blank" rel="noreferrer"><code>ceil(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-ceilf" target="_blank" rel="noreferrer"><code>ceilf(x)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-ceili" target="_blank" rel="noreferrer"><code>ceili(x)</code></a>：向上取整 <code>ceil(1.1)</code> ➜ <code>2</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-snapped" target="_blank" rel="noreferrer"><code>snapped(x, step)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-snappedi" target="_blank" rel="noreferrer"><code>snappedi(x, step)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-snappedf" target="_blank" rel="noreferrer"><code>snappedf(x, step)</code></a>：将x对齐到最近的 step 倍数 <code>snapped(2.3, 0.5)</code> ➜ <code>2.5</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-fmod" target="_blank" rel="noreferrer"><code>fmod(x, y)</code></a>：浮点数模运算（和 <code>%</code> 类似，但能处理小数） <code>fmod(5.75, 2.0)</code> ➜ <code>1.75</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-posmod" target="_blank" rel="noreferrer"><code>posmod(x, y)</code></a>：带正号的取模，保证结果非负 <code>posmod(-3, 4)</code> ➜ <code>1</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-fposmod" target="_blank" rel="noreferrer"><code>fposmod(x, y)</code></a>：浮点正号模 <code>fposmod(-3.5, 4.0)</code> ➜ <code>0.5</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-sin" target="_blank" rel="noreferrer"><code>sin(x)</code></a> / <a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-cos" target="_blank" rel="noreferrer"><code>cos(x)</code></a> / <code>tan(x)</code>：正弦、余弦、正切（参数为弧度） <code>sin(PI / 2)</code> ➜ <code>1.0</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-asin" target="_blank" rel="noreferrer"><code>asin(x)</code></a> / <a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-acos" target="_blank" rel="noreferrer"><code>acos(x)</code></a> / <a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-atan" target="_blank" rel="noreferrer"><code>atan(x)</code></a>：反三角函数 <code>acos(0)</code> ➜ <code>PI / 2</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-atan2" target="_blank" rel="noreferrer"><code>atan2(y, x)</code></a>：返回点 (x, y) 与 x轴的夹角，常用于旋转 <code>atan2(1, 0)</code> ➜ <code>PI / 2</code></p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-min" target="_blank" rel="noreferrer"><code>min(...)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-mini" target="_blank" rel="noreferrer"><code>mini(a, b)</code></a> /<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-minf" target="_blank" rel="noreferrer"><code>minf(a, b)</code></a>/ <a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-max" target="_blank" rel="noreferrer"><code>max(...)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-maxi" target="_blank" rel="noreferrer"><code>maxi(a, b)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-maxf" target="_blank" rel="noreferrer"><code>maxf(a, b)</code></a>：返回较小/较大的值</p></li><li><p><a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-wrap" target="_blank" rel="noreferrer"><code>wrap(value, min, max)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-wrapf" target="_blank" rel="noreferrer"><code>wrapf(value, min, max)</code></a>/<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#class-globalscope-method-wrapi" target="_blank" rel="noreferrer"><code>wrapi(value, min, max)</code></a>：让值在[min, max]范围内循环 <code>wrapf(11.5, 0.0, 10.0)</code> ➜ <code>1.5</code></p></li></ul><h1 id="二进制运算符" tabindex="-1">二进制运算符 <a class="header-anchor" href="#二进制运算符" aria-label="Permalink to &quot;二进制运算符&quot;">​</a></h1><table tabindex="0"><thead><tr><th>表达式</th><th>含义</th><th>示例</th><th>效果说明</th></tr></thead><tbody><tr><td><code>~x</code></td><td><strong>按位取反（NOT）</strong></td><td><code>~0000 0001</code> ➜ <code>1111 1110</code></td><td>把每一位都反过来（1变0，0变1）</td></tr><tr><td><code>x &lt;&lt; y</code></td><td><strong>左移 y 位</strong></td><td><code>1 &lt;&lt; 3</code> ➜ <code>8</code>（即 <code>0001</code> ➜ <code>1000</code>）</td><td>相当于乘以 2 的 y 次方</td></tr><tr><td><code>x &gt;&gt; y</code></td><td><strong>右移 y 位</strong></td><td><code>8 &gt;&gt; 2</code> ➜ <code>2</code>（即 <code>1000</code> ➜ <code>0010</code>）</td><td>相当于除以 2 的 y 次方（向下取整）</td></tr><tr><td><code>x &amp; y</code></td><td><strong>按位与(AND)</strong></td><td><code>1100 &amp; 1010</code> ➜ <code>1000</code></td><td>两位都为1才为1</td></tr><tr><td><code>x | y</code></td><td><strong>按位或(OR)</strong></td><td><code>0100 | 0011</code> ➜ <code>0111</code></td><td>有任意一位为1就为1</td></tr><tr><td><code>x ^ y</code></td><td><strong>按位异或（XOR）</strong></td><td><code>0110 ^ 0011</code> ➜ <code>0101</code></td><td>相同为0，不同为1</td></tr><tr><td><code>x &amp;= y</code> <code>x |= y</code> <code>x ^= y</code> <code>x &lt;&lt;= y</code> <code>x &gt;&gt;= y</code></td><td><strong>二进制赋值运算符</strong></td><td>同上</td><td><code>x &amp;= y</code>等效于 <code>x = x &amp; y</code>其余同理</td></tr></tbody></table><h1 id="标志位-flag" tabindex="-1">标志位(<code>flag</code>) <a class="header-anchor" href="#标志位-flag" aria-label="Permalink to &quot;标志位(\`flag\`)&quot;">​</a></h1><p>在GDScript中，有很多<code>flag</code>标志位</p><p>比如表示属性使用情况元数据的标志位<a href="https://docs.godotengine.org/zh-cn/4.x/classes/class_%40globalscope.html#enum-globalscope-propertyusageflags" target="_blank" rel="noreferrer"><code>PropertyUsageFlags</code></a></p><h2 id="常见的propertyusageflags标志位" tabindex="-1">常见的<code>PropertyUsageFlags</code>标志位 <a class="header-anchor" href="#常见的propertyusageflags标志位" aria-label="Permalink to &quot;常见的\`PropertyUsageFlags\`标志位&quot;">​</a></h2><table tabindex="0"><thead><tr><th>标志名</th><th>值</th><th>意义</th></tr></thead><tbody><tr><td><code>PROPERTY_USAGE_SCRIPT_VARIABLE</code></td><td><code>4096</code>/ <code>0000 0001 0000 0000 0000</code></td><td>表示这个属性是脚本中的变量</td></tr><tr><td><code>PROPERTY_USAGE_NIL_IS_VARIANT</code></td><td><code>131072</code>/<code>0010 0000 0000 0000 0000</code></td><td>属性类型是 Variant（动态类型）</td></tr><tr><td><code>PROPERTY_USAGE_NO_EDITOR</code></td><td><code>2</code> / <code>0000 0000 0000 0000 0010</code></td><td>不显示在编辑器中（即使是导出变量）</td></tr><tr><td><code>PROPERTY_USAGE_CLASS_IS_ENUM</code></td><td><code>65536</code> / <code>0001 0000 0000 0000 0000</code></td><td>属性是枚举类型变量</td></tr><tr><td><code>PROPERTY_USAGE_NONE</code></td><td><code>0</code> / <code>0000 0000 0000 0000 0000</code></td><td>属性不被存储，也不会显示在编辑器中(非导出属性的默认值)</td></tr><tr><td><code>PROPERTY_USAGE_STORAGE</code></td><td><code>2</code> / <code>0000 0000 0000 0000 0010</code></td><td>将属性序列化并保存到场景文件中（用于导出属性的默认值）</td></tr><tr><td><code>PROPERTY_USAGE_EDITOR</code></td><td><code>4</code>/ <code>0000 0000 0000 0000 0100</code></td><td>属性会显示在检查器中（用于导出属性的默认值）</td></tr></tbody></table><h2 id="组合标志-按位或" tabindex="-1">组合标志：按位或<code>|</code> <a class="header-anchor" href="#组合标志-按位或" aria-label="Permalink to &quot;组合标志：按位或\`|\`&quot;">​</a></h2><p><strong>按位或 <code>|</code></strong> 用于 <strong>组合多个标志</strong></p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 4096</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_NIL_IS_VARIANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 131072</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(usage) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 135168</span></span></code></pre></div><p>这是说，“这个属性既是用户脚本变量也是类型为<code>Variant</code>的动态类型变量”，所以两个值加起来就是 <code>4096 + 131072 = 135168</code>，用按位或表示就是 :</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0010 0000 0000 0000 0000（131072）  </span></span>
<span class="line"><span>  | 0000 0001 0000 0000 0000（4096）</span></span>
<span class="line"><span>  = 0010 0001 0000 0000 0000 （135168）</span></span></code></pre></div><p>结果就是同时拥有两个标志</p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 4096</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_CLASS_IS_ENUM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 65536</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(usage) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 输出 69632</span></span></code></pre></div><p>这是说，“这个属性既是用户脚本变量也是类型为枚举类型的变量”，用按位表示就是</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  0000 0001 0000 0000 0000 </span></span>
<span class="line"><span>| 0001 0000 0000 0000 0000 </span></span>
<span class="line"><span>= 0001 0001 0000 0000 0000 （4096 | 65536 = 69632）</span></span></code></pre></div><h2 id="检查标志-按位与" tabindex="-1">检查标志：按位与 <code>&amp;</code> <a class="header-anchor" href="#检查标志-按位与" aria-label="Permalink to &quot;检查标志：按位与 \`&amp;\`&quot;">​</a></h2><p>你可以使用 <strong>按位与（<code>&amp;</code>）判断某个标志是否存在</strong></p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这个变量是用户脚本变量&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_CLASS_IS_ENUM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这个属性被当做枚举了！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_STORAGE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这个属性会被存储到场景或资源文件里&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_NO_EDITOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;这个属性不会显示在编辑器中（即使是导出变量）&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>如果结果非零，就说明这个标志存在！</strong></p><p>如果你想检查多个标志是否<strong>全部存在</strong>，可以这样：</p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_NIL_IS_VARIANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_SCRIPT_VARIABLE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_NIL_IS_VARIANT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;两个标志都有设定喔～！&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>比如说 ：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>usage = 0000 0001 0000 0000 0000(PROPERTY_USAGE_SCRIPT_VARIABLE)</span></span></code></pre></div><p>我们想要检查<code>PROPERTY_USAGE_SCRIPT_VARIABLE | PROPERTY_USAGE_NIL_IS_VARIANT</code>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  0000 0001 0000 0000 0000  （4096） PROPERTY_USAGE_SCRIPT_VARIABLE </span></span>
<span class="line"><span>| 0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>= 0010 0001 0000 0000 0000 （135168）</span></span></code></pre></div><p>然后来看</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  usage &amp; 135168 = </span></span>
<span class="line"><span>    0000 0001 0000 0000 0000 （4096） PROPERTY_USAGE_SCRIPT_VARIABLE </span></span>
<span class="line"><span>  &amp; 0010 0001 0000 0000 0000  (135168)</span></span>
<span class="line"><span>  = 0000 0001 0000 0000 0000  (4096)</span></span></code></pre></div><p>计算结果如上，转换为十进制就是<code>4096</code>,这表明它存在<code>PROPERTY_USAGE_SCRIPT_VARIABLE</code>标志位，但不存在<code>PROPERTY_USAGE_NIL_IS_VARIANT</code></p><p>再比如：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>usage = PROPERTY_USAGE_SCRIPT_VARIABLE     # 4096 -&gt; 0000 0001 0000 0000 0000</span></span></code></pre></div><p>我们要检查<code>PROPERTY_USAGE_NO_EDITOR | PROPERTY_USAGE_CLASS_IS_ENUM</code>：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0000 0000 0000 0000 0010  (2) PROPERTY_USAGE_NO_EDITOR </span></span>
<span class="line"><span>  | 0001 0000 0000 0000 0000  (65536) PROPERTY_USAGE_CLASS_IS_ENUM</span></span>
<span class="line"><span>  = 0001 0000 0000 0000 0010  (65538)</span></span></code></pre></div><p>然后来看：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  usage &amp; 65538 = </span></span>
<span class="line"><span>    0000 0001 0000 0000 0000 （4096） PROPERTY_USAGE_SCRIPT_VARIABLE     </span></span>
<span class="line"><span>  &amp; 0001 0000 0000 0000 0010  (65538)</span></span>
<span class="line"><span>  = 0000 0000 0000 0000 0000 （0）</span></span></code></pre></div><p>结果为0，说明<code>usage</code> <strong>没有包含任何一个</strong>我们要检查的两个标志位</p><h2 id="清除标志-按位取反-按位与" tabindex="-1">清除标志：按位取反 <code>~</code> + 按位与 <code>&amp;</code> <a class="header-anchor" href="#清除标志-按位取反-按位与" aria-label="Permalink to &quot;清除标志：按位取反 \`~\` + 按位与 \`&amp;\`&quot;">​</a></h2><p>比如我们不想要动态类型这个标志了：</p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PROPERTY_USAGE_NIL_IS_VARIANT</span></span></code></pre></div><p>这就会把 <code>131072</code> 从 <code>usage</code> 中移除：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  ~ 0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>  = 1101 1111 1111 1111 1111 （917503） </span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>  &amp; 1101 1111 1111 1111 1111 （917503） </span></span>
<span class="line"><span>  = 0000 0000 0000 0000 0000 （0）</span></span></code></pre></div><p><strong>清除一个不存在的标志什么也不会发生：</strong></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>usage = PROPERTY_USAGE_SCRIPT_VARIABLE # 0000 0001 0000 0000 0000（4096）</span></span></code></pre></div><p>我们试着清除<code>PROPERTY_USAGE_NIL_IS_VARIANT</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>  ~ 0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>  = 1101 1111 1111 1111 1111 （917503） </span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0000 0001 0000 0000 0000（4096） PROPERTY_USAGE_SCRIPT_VARIABLE </span></span>
<span class="line"><span>  &amp; 1101 1111 1111 1111 1111 （917503）</span></span>
<span class="line"><span>  = 0000 0001 0000 0000 0000 (4096) PROPERTY_USAGE_SCRIPT_VARIABLE</span></span></code></pre></div><h2 id="翻转标志-按位异或" tabindex="-1">翻转标志：按位异或 <code>^</code> <a class="header-anchor" href="#翻转标志-按位异或" aria-label="Permalink to &quot;翻转标志：按位异或 \`^\`&quot;">​</a></h2><p>如果我们想“切换”枚举标志的开启状态：</p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_CLASS_IS_ENUM</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">usage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PROPERTY_USAGE_CLASS_IS_ENUM</span></span></code></pre></div><p>如果原本有这个标志，它就会被移除；</p><p>如果原本没有，它就会被加上！</p><p>以上面的代码为例，比如说<code>usage</code>现在是<code>PROPERTY_USAGE_SCRIPT_VARIABLE | PROPERTY_USAGE_NIL_IS_VARIANT</code></p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0000 0001 0000 0000 0000  （4096） PROPERTY_USAGE_SCRIPT_VARIABLE </span></span>
<span class="line"><span>  | 0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>  = 0010 0001 0000 0000 0000 （135168） </span></span>
<span class="line"><span></span></span>
<span class="line"><span>    0010 0001 0000 0000 0000 （135168） </span></span>
<span class="line"><span>  ^ 0001 0000 0000 0000 0000 (65536）PROPERTY_USAGE_CLASS_IS_ENUM    </span></span>
<span class="line"><span>  = 0011 0001 0000 0000 0000 （200704）</span></span></code></pre></div><p>然后用按位与检查一下</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0011 0001 0000 0000 0000 （200704）</span></span>
<span class="line"><span>  &amp; 0001 0000 0000 0000 0000 (65536)</span></span>
<span class="line"><span>  = 0001 0000 0000 0000 0000 (65536)</span></span></code></pre></div><p>不为 0，表示具有该标志</p><p>再检查一下是否同时具有三个标志</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0000 0001 0000 0000 0000  （4096） PROPERTY_USAGE_SCRIPT_VARIABLE </span></span>
<span class="line"><span>  | 0010 0000 0000 0000 0000  (131072） PROPERTY_USAGE_NIL_IS_VARIANT</span></span>
<span class="line"><span>  | 0001 0000 0000 0000 0000 (65536）PROPERTY_USAGE_CLASS_IS_ENUM  </span></span>
<span class="line"><span>  = 0011 0001 0000 0000 0000 （200704）</span></span>
<span class="line"><span></span></span>
<span class="line"><span>     0011 0001 0000 0000 0000 （200704）</span></span>
<span class="line"><span>  &amp;  0011 0001 0000 0000 0000 （200704）</span></span>
<span class="line"><span>  =  0011 0001 0000 0000 0000 （200704）</span></span></code></pre></div><p>满足条件，<code>(usage &amp; (a | b | c)) == (a | b | c)</code>因此同时具有三个标志。</p><p>我们再试着用一次异或，看看是不是真的能够移除</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    0011 0001 0000 0000 0000 （200704)</span></span>
<span class="line"><span>  ^ 0001 0000 0000 0000 0000 (65536）PROPERTY_USAGE_CLASS_IS_ENUM  </span></span>
<span class="line"><span>  = 0010 0001 0000 0000 0000（135168）</span></span></code></pre></div><p><code>135168</code>也就是<code>PROPERTY_USAGE_SCRIPT_VARIABLE|PROPERTY_USAGE_NIL_IS_VARIANT</code></p><p>所以，异或可以对标志进行开关</p><h1 id="小练习" tabindex="-1">小练习 <a class="header-anchor" href="#小练习" aria-label="Permalink to &quot;小练习&quot;">​</a></h1><ol><li>下面的代码会输出什么？为什么？</li></ol><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><ul><li>下面代码的输出结果是？</li></ul><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> %</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">posmod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">fmod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">7.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span></code></pre></div><ul><li>最终的计算结果是多少？</li></ul><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span></span></code></pre></div><ul><li>下面的代码会运行成功吗？如果不会，哪里错了？</li></ul><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">%</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">print</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b)</span></span></code></pre></div><ul><li><p>实践</p><p>你正在制作一个房间温控系统。房间的初始温度是 15°C，每秒加热 2.5°C，最多升到 25°C 为止。</p><p>使用下面的模板，写一段代码，模拟每秒之后的温度变化（共模拟10秒，即<code>print</code>10次），并在每秒输出当前温度。</p><p>（提示：使用加法运算符和 <code>min()</code> 函数，防止超过最大温度）</p><div class="language-gdscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gdscript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> last_time: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">float</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">func</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> _process</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(delta: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Time</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get_ticks_msec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000.0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> last_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # 替换这里，这里的代码每一秒都会执行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        last_time </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Time</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get_ticks_msec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1000.0</span></span></code></pre></div></li></ul>`,80)])])}const g=a(n,[["render",l]]);export{k as __pageData,g as default};
